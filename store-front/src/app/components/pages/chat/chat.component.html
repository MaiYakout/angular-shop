<section class="chatPage" *ngIf="!loading">
    <div class="container">
        <div class="row">
            <div class="col-md-7">
                <h1>{{ roomData.user.name }}</h1>
                <div class="container-chat">

                    <div class="row" *ngFor="let message of messages">

                        <div class="card-chat-sender" *ngIf="message.sender_id === myId">
                            <div class="text-send">
                                <p>{{ message.message }}</p>
                            </div>
                        </div>

                        <div class="text-chat" *ngIf="message.sender_id !== myId">
                            <div class="card-chat-reciever" >
                            
                                <p>{{ message.message }}</p> 
                            </div>   
                        </div>
                    </div>
                        
                </div>
                <div class="send-mob">
                    <form [formGroup]= "formGroup" (ngSubmit)="sendMessage()">
                        <div class="form-group send">
                            <input type="text" class="form-control" id="exampleInputPassword1"  placeholder="{{ 'WriteSomething' | translate }}" formControlName="message">
                            <button class="btn getStarted send-message" type="submit"><span> <i class="fa fa-paper-plane"></i> </span></button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="col-md-1"></div>
            <div class="col-md-4">
                <div class="apply-bid-detailes">
                    <div class="card-bids">
                        <div class="body-bids">
                            <div class="seller-info-chat">
                                <h2>{{ roomData.user.name }}</h2>
                                <h3>
                                    <span class="location-bid">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="13.3" height="19" viewBox="0 0 13.3 19">
                                            <path id="Icon_material-location-on" data-name="Icon material-location-on" d="M14.15,3A6.645,6.645,0,0,0,7.5,9.65C7.5,14.638,14.15,22,14.15,22S20.8,14.638,20.8,9.65A6.645,6.645,0,0,0,14.15,3Zm0,9.025A2.375,2.375,0,1,1,16.525,9.65,2.376,2.376,0,0,1,14.15,12.025Z" transform="translate(-7.5 -3)" fill="#1e805d"/>
                                          </svg>
                                         {{roomData.user.companyRegion?.name ?? ""}}                                  
                                    </span>
                                </h3>
                                <h3>
                                    <span class="location-bid">
                                        <i class="fa fa-phone"></i>
                                          {{roomData.user?.phone}}                                
                                    </span>
                                </h3>
                                <h3>
                                    <span class="location-bid">
                                        <i class="fa fa-envelope"></i>
                                          {{roomData.user?.email}}                               
                                    </span>
                                </h3>
                            </div>
                            <div class="bid-chat">
                                <h2>{{roomData.bid.name}} <span class="code-bids">#{{roomData.bid.id}}</span> <span class="offer-bids" (click)="gotoDetails()"> {{ 'BidDetails' | translate }}<i class="fa fa-arrow-circle-right"></i></span></h2>
                            <h3>
                                <span class="bid-type">
                                    {{roomData.bid.type?.name??""}}
                                </span>
                                <span class="location-bid">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="13.3" height="19" viewBox="0 0 13.3 19">
                                        <path id="Icon_material-location-on" data-name="Icon material-location-on" d="M14.15,3A6.645,6.645,0,0,0,7.5,9.65C7.5,14.638,14.15,22,14.15,22S20.8,14.638,20.8,9.65A6.645,6.645,0,0,0,14.15,3Zm0,9.025A2.375,2.375,0,1,1,16.525,9.65,2.376,2.376,0,0,1,14.15,12.025Z" transform="translate(-7.5 -3)" fill="#1e805d"/>
                                      </svg>
                                      {{roomData.bid.region?.name??""}}                               
                                </span>
                            </h3>
                            <h4>
                                <span class="bid-type">
                                    {{ 'PublishedDate' | translate }}
                                </span>
                                <span class="published">
                                   {{roomData.bid.createdAt}}
                                </span>
                            </h4>
                            <h4>
                                <span class="bid-type">
                                    {{ 'Lastdateforapplying' | translate }}
                                </span>
                                <span class="published">
                                    {{roomData.bid.endDate}}                              
                                </span>
                            </h4>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-12 send-web" > 
                <form [formGroup]= "formGroup" (ngSubmit)="sendMessage()">
                    <div class="form-group send">
                        <input type="text" class="form-control" id="exampleInputPassword1"  placeholder="Write Something.." formControlName="message">
                        <button class="btn getStarted send-message" type="submit"><span> <i class="fa fa-paper-plane"></i>{{ 'Send' | translate }} </span></button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

<app-loading-page *ngIf="loading"></app-loading-page>